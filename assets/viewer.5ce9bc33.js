import"./modulepreload-polyfill.b7f2da20.js";import{j as E,k as j,o as F,c as z,w as n,a as e,u as a,d as A,t as H,I as V,b as r,l as N,B as O,m as S,n as T,p as $,q as G,r as I,s as _,v as J,H as B,x as P,y as U,z as R,A as q,M as K,D as Z,E as Q,F as W,G as X,L as Y,J as ee,K as ne,N as te,O as oe,P as ae,i as le}from"./vendor.e6799bbf.js";import{m as L}from"./index.cf0c916d.js";const ie=r("svg",{class:"icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},[r("path",{d:"M144 112h232a8 8 0 0 1 8 8v48a8 8 0 0 1-8 8H221.255l216.716 216.716a8 8 0 0 1 0 11.313l-33.942 33.942a8 8 0 0 1-11.313 0L176 221.255V376a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8V144c0-17.673 14.327-32 32-32z m-32 536v232c0 17.673 14.327 32 32 32h232a8 8 0 0 0 8-8v-48a8 8 0 0 0-8-8H221.884l215.901-215.901a8 8 0 0 0 0-11.314l-33.941-33.941a8 8 0 0 0-11.314 0L176 803.374V648a8 8 0 0 0-8-8h-48a8 8 0 0 0-8 8z m690.744 200L586.529 631.785a7.999 7.999 0 0 1 0-11.314l33.941-33.941a8 8 0 0 1 11.314 0L848 802.747V648a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v232c0 17.673-14.327 32-32 32H648a8 8 0 0 1-8-8v-48a8 8 0 0 1 8-8h154.744zM912 376V144c0-17.673-14.327-32-32-32H648a8 8 0 0 0-8 8v48a8 8 0 0 0 8 8h155.373l-217.03 217.029a8 8 0 0 0 0 11.314l33.941 33.941a8 8 0 0 0 11.314 0L848 221.882V376a8 8 0 0 0 8 8h48a8 8 0 0 0 8-8z"})],-1),se=r("svg",{class:"icon",viewBox:"100 100 820 820",width:"1em",height:"1em"},[r("path",{d:"M541.141333 268.864l61.717334 16.938667-132.394667 482.474666-61.717333-16.938666 132.394666-482.474667zM329.002667 298.666667l44.885333 45.610666-175.36 172.586667 175.04 167.573333-44.266667 46.229334L106.666667 517.504 329.002667 298.666667z m355.882666 0l222.336 218.837333L684.586667 730.666667l-44.266667-46.229334 175.018667-167.573333L640 344.277333 684.885333 298.666667z"})],-1),ue=E({__name:"toolbar",setup(M){const d=j("viewer_context"),{showMiniMap:h,toggleMiniMap:v,scale:x,zoomOut:i,zoomIn:y,resetZoom:c,fitView:m,codeDrawerVisible:s}=d;return(w,l)=>{const p=N,t=O,o=S,u=T,g=$,b=G,C=I;return F(),z(C,null,{default:n(()=>[e(g,null,{default:n(()=>[e(t,{onClick:a(i)},{icon:n(()=>[e(p)]),_:1},8,["onClick"]),e(o,{title:"\u70B9\u51FB\u6B64\u5904\uFF0C\u6062\u590D\u539F\u59CB\u5927\u5C0F\u548C\u4F4D\u7F6E"},{default:n(()=>[e(t,{style:{padding:"4px"},onClick:a(c)},{default:n(()=>[A(H(a(x).percentage),1)]),_:1},8,["onClick"])]),_:1}),e(t,{onClick:a(y)},{icon:n(()=>[e(u)]),_:1},8,["onClick"]),e(o,{title:"\u81EA\u9002\u5E94\u5927\u5C0F"},{default:n(()=>[e(t,{id:"fitView",onClick:l[0]||(l[0]=f=>a(m)(100))},{icon:n(()=>[e(a(V),null,{component:n(()=>[ie]),_:1})]),_:1})]),_:1})]),_:1}),e(g,null,{default:n(()=>[e(o,{title:"\u663E\u793A/\u9690\u85CF \u7F29\u7565\u56FE\u5BFC\u822A"},{default:n(()=>[e(t,{onClick:l[1]||(l[1]=f=>a(v)()),type:a(h)?"primary":"default"},{icon:n(()=>[e(b)]),_:1},8,["type"])]),_:1}),e(o,{title:"\u67E5\u770B\u4EE3\u7801"},{default:n(()=>[e(t,{onClick:l[2]||(l[2]=f=>s.value=!0),type:a(s)?"primary":"default"},{icon:n(()=>[e(a(V),null,{component:n(()=>[se]),_:1})]),_:1},8,["type"])]),_:1})]),_:1})]),_:1})}}});const _e=E({__name:"index",setup(M){const d=new URLSearchParams(location.search),h=d.has("modelType")?d.get("modelType"):"bpmn",v=_(h),x=L.find(t=>t.name===v.value)||L[0],i=J(x);B.registerLanguage("json",P),B.registerLanguage("xml",U);const y=X.component,c=_(!1),m=_(""),s=_(!1),w=_(!1),l=()=>{var o,u;let t;s.value?t=(o=i.lf)==null?void 0:o.getGraphRawData():t=(u=i.lf)==null?void 0:u.getGraphData(),typeof t=="object"&&(t=JSON.stringify(t,null,2)),m.value=t};R("viewer_context",Object.assign(i,{codeDrawerVisible:c}));const p=_();return q(()=>{var o;if(!p.value){console.log("error container is null");return}const t={container:p.value,isSilentMode:!0,plugins:[K]};i.initLogicFlow(t),w.value=!!((o=i.lf)!=null&&o.adapterOut)}),(t,o)=>{const u=Y,g=ee,b=ne,C=te,f=oe,D=ae;return F(),Z(W,null,[e(b,{style:{height:"100%",width:"100%",margin:"0",overflow:"hidden"}},{default:n(()=>[e(u,{style:{background:"#fff",height:"42px","line-height":"32px",padding:"5px 10px"}},{default:n(()=>[e(ue)]),_:1}),e(g,null,{default:n(()=>[r("div",{ref_key:"container",ref:p,style:{height:"100%",width:"100%",padding:"4px","box-shadow":"0 0 4px rgb(0 0 0 / 30%) inset",background:"#fff"}},null,512)]),_:1})]),_:1}),e(D,{visible:c.value,"onUpdate:visible":o[1]||(o[1]=k=>c.value=k),title:"\u4EE3\u7801",placement:"right",size:"large",bodyStyle:{padding:0},onAfterVisibleChange:l},{extra:n(()=>[w.value?(F(),z(f,{key:0,label:"\u539F\u59CB\u4EE3\u7801",style:{margin:"0"}},{default:n(()=>[e(C,{checked:s.value,"onUpdate:checked":o[0]||(o[0]=k=>s.value=k),onChange:l},null,8,["checked"])]),_:1})):Q("",!0)]),default:n(()=>[e(a(y),{autodetect:"",code:m.value},null,8,["code"])]),_:1},8,["visible"])],64)}}});le(_e).mount("#app");
